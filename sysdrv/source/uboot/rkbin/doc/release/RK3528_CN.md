# RK3528 Release Note

## rk3528_bl32_v1.04.bin

| 时间       | 文件                  | 编译 commit | 重要程度 |
| ---------- | :-------------------- | ----------- | -------- |
| 2024-04-16 | rk3528_bl32_v1.04.bin | 185dc3c92   | 重要     |

### New

1. 增加输入参数检查，增加安全性。
2. 支持打印 TEE 内存占用信息。
3. 硬件 crypto 支持4G以上地址。
4. 支持打印 FWVER 信息。

------

## rk3528_ddr_1056MHz_{2L_PCB,4BIT_PCB_}v1.09.bin

| 时间       | 文件                                           | 编译 commit | 重要程度 |
| ---------- | ---------------------------------------------- | ----------- | -------- |
| 2024-01-30 | rk3528_ddr_1056MHz_{2L_PCB,4BIT_PCB_}v1.09.bin | 665f3e4817  | 重要     |

### New

1. 支持 lp3 颗粒odt自动探测。
2. 支持 vref training。

### Fixed

| Index | 重要程度 | 更新说明                         | 问题现象                                       | 问题来源 |
| ----- | -------- | -------------------------------- | ---------------------------------------------- | -------- |
| 1     | 重要     | 修复byte mode lp4在training的CL错误 | 使用byte mode lp4 在training时会报错 | -        |
| 2     | 重要     | 修复lp4、lp4x 4L pcb的配置问题 | lp4、lp4x 4L pcb的信号并非最佳   | -        |

------

## rk3528_bl31_v1.17.elf

| 时间       | 文件                  | 编译 commit | 重要程度 |
| ---------- | :-------------------- | ----------- | -------- |
| 2023-12-21 | rk3528_bl31_v1.17.elf | eda1f5ce4   | 重要     |

### Fixed

| Index | 重要程度 | 更新说明                                   | 问题现象             | 问题来源 |
| ----- | -------- | ------------------------------------------ | -------------------- | -------- |
| 1     | 重要     | 解决视频播放时cpu卡死的问题                | 播放视频时cpu随机卡住 | -        |

------

## rk3528_spl_v1.05.bin

| 时间       | 文件                 | 编译 commit | 重要程度 |
| ---------- | :------------------- | ----------- | -------- |
| 2023-09-25 | rk3528_spl_v1.05.bin | e4e124926e  | 重要     |

### New

1. 打印并传递固件版本号。

### Fixed

| Index | 重要程度 | 更新说明                                            | 问题现象                                                 | 问题来源 |
| ----- | -------- | --------------------------------------------------- | -------------------------------------------------------- | -------- |
| 1     | 重要     | 解决SPL加载校验u-boot.dtb失败后不加载备份镜像的问题 | 第一份uboot.img的u-boot.dtb损坏后，SPL没有加载备份镜像。 | -        |

------

## rk3528_bl32_v1.03.bin

| 时间       | 文件                  | 编译 commit | 重要程度 |
| ---------- | :-------------------- | ----------- | -------- |
| 2023-08-29 | rk3528_bl32_v1.03.bin | b5340fd65   | 重要     |

### New

1. 支持oem otp key硬件只读。
2. 默认设置伪随机数种子。
3. 内部TA支持读写security flag接口。
4. 内部TA支持判断  ta encryption key 是否写入。
5. 支持oem hdcp key功能。

### Fixed

| Index | 重要程度 | 更新说明                                   | 问题现象             | 问题来源 |
| ----- | -------- | ------------------------------------------ | -------------------- | -------- |
| 1     | 重要     | 修正使能动态内存后硬件crypto概率性奔溃问题 | 使用硬件crypto会报错 | -        |

------

## rk3528_ddr_1056MHz_{2L_PCB,4BIT_PCB_}v1.07.bin

| 时间       | 文件                                           | 编译 commit | 重要程度 |
| ---------- | ---------------------------------------------- | ----------- | -------- |
| 2023-08-04 | rk3528_ddr_1056MHz_{2L_PCB,4BIT_PCB_}v1.07.bin | 4fe5906c9d  | 重要     |

### New

1. 增加lp4/lp4x derate支持。
2. 支持使用ddrbin_tool工具修改CA de-skew。

### Fixed

| Index | 重要程度 | 更新说明                         | 问题现象                                       | 问题来源 |
| ----- | -------- | -------------------------------- | ---------------------------------------------- | -------- |
| 1     | 重要     | 修复per-bank-refresh使能后的异常 | 开启per-bank-refresh后，打印卡死ddrbin OUT位置 | -        |
| 2     | 重要     | 修复pageclose使能后的异常        | 开启pageclose后，系统卡死dmc位置               | -        |

------

## rk3528_bl31_v1.16.elf

| 时间       | 文件                  | 编译 commit | 重要程度 |
| ---------- | :-------------------- | ----------- | -------- |
| 2023-07-21 | rk3528_bl31_v1.16.elf | 7bfd76051   | 重要     |

### New

1. 解决死锁的问题。

------

## rk3528_bl31_v1.15.elf

| 时间       | 文件                  | 编译 commit | 重要程度 |
| ---------- | :-------------------- | ----------- | -------- |
| 2023-07-17 | rk3528_bl31_v1.15.elf | d8ae91904   | 重要     |

### New

1. 支持RK3528A芯片。

------

## rk3528_ddr_1056MHz_{2L_PCB,4BIT_PCB_}v1.06.bin

| 时间       | 文件                                           | 编译 commit | 重要程度 |
| ---------- | ---------------------------------------------- | ----------- | -------- |
| 2023-06-05 | rk3528_ddr_1056MHz_{2L_PCB,4BIT_PCB_}v1.06.bin | 1ab0bfbe2d  | 重要     |

### New

1. 支持使用ddrbin_tool工具修改CA de-skew。

------

## rk3528_bl31_v1.14.elf

| 时间       | 文件                  | 编译 commit | 重要程度 |
| ---------- | :-------------------- | ----------- | -------- |
| 2023-05-19 | rk3528_bl31_v1.14.elf | 1b2124ab7   | 重要     |

### New

1. 将bl31基地址改到0x80000。
2. 支持ddr变频。

------

## rk3528_ddr_1056MHz_{2L_PCB,4BIT_PCB_}v1.05.bin

| 时间       | 文件                                           | 编译 commit | 重要程度 |
| ---------- | ---------------------------------------------- | ----------- | -------- |
| 2023-04-14 | rk3528_ddr_1056MHz_{2L_PCB,4BIT_PCB_}v1.05.bin | 2eef4a672d  | 重要     |

### New

1. 增加4BIT PCB配置的ddrbin。
2. 增加LP3 CA skew的配置。

### Fixed

| Index | 重要程度 | 更新说明                                    | 问题现象                                        | 问题来源 |
| ----- | -------- | ------------------------------------------- | ----------------------------------------------- | -------- |
| 1     | 重要     | 修复DDR3 RAS 2T模式的相位问题               | DDR3 2T模式下RAS相位异常                        | -        |
| 2     | 重要     | 修复多rank下LP3 training时候ODT输出异常问题 | 多rank下LP3 做cs1 write training时候ODT输出异常 | -        |

------

## rk3528_bl32_v1.02.bin

| 时间       | 文件                  | 编译 commit | 重要程度 |
| ---------- | :-------------------- | ----------- | -------- |
| 2023-04-12 | rk3528_bl32_v1.02.bin | c73fd5531   | 重要     |

### New

1. 增加crypto/trng/keylad模块支持。

------

## rk3528_bl31_v1.13.elf

| 时间       | 文件                  | 编译 commit | 重要程度 |
| ---------- | :-------------------- | ----------- | -------- |
| 2023-04-12 | rk3528_bl31_v1.13.elf | 642369d9b   | 重要     |

### New

1. 修改cpu和gpu的pvtpll配置。

------

## rk3528_spl_v1.04.bin

| 时间       | 文件                 | 编译 commit | 重要程度 |
| ---------- | :------------------- | ----------- | -------- |
| 2023-04-11 | rk3528_spl_v1.04.bin | 0fbedd06    | 重要     |

### Fixed

| Index | 重要程度 | 更新说明                    | 问题现象     | 问题来源 |
| ----- | -------- | --------------------------- | ------------ | -------- |
| 1     | 重要     | 修正matrix 339M时钟配置错误 | EMMC通讯报错 | -        |

------

## rk3528_usbplug_v1.03.bin

| 时间       | 文件                  | 编译 commit | 重要程度 |
| ---------- | :----------------------- | ----------- | -------- |
| 2023-04-08 | rk3528_usbplug_v1.03.bin | dbdfea79b   | 重要     |

### Fixed

| Index | 重要程度 | 更新说明               | 问题现象                    | 问题来源 |
| ----- | -------- | ---------------------- | --------------------------- | -------- |
| 1     | 重要     | 解决emmc概率升级失败            | maskrom下升级emmc固件概率性失败 | -        |

------

## rk3528_bl32_v1.01.bin

| 时间       | 文件                  | 编译 commit | 重要程度 |
| ---------- | :-------------------- | ----------- | -------- |
| 2023-04-03 | rk3528_bl32_v1.01.bin | c5251becc   | 普通     |

### New

1. 新增内部TA接口。

------

## rk3528_bl31_v1.12.elf

| 时间       | 文件                  | 编译 commit | 重要程度 |
| ---------- | :-------------------- | ----------- | -------- |
| 2023-03-16 | rk3528_bl31_v1.12.elf | 70c5c8d9c   | 重要     |

### New

1. 提升trng的性能。

------

## rk3528_ddr_1056MHz_{2L_PCB_}v1.04.bin

| 时间       | 文件                                  | 编译 commit | 重要程度 |
| ---------- | ------------------------------------- | ----------- | -------- |
| 2023-03-15 | rk3528_ddr_1056MHz_{2L_PCB_}v1.04.bin | dce46ffe73  | 重要     |

### New

1. 增加OTP配置芯片的支持。

------

## rk3528_bl31_v1.11.elf

| 时间       | 文件                  | 编译 commit | 重要程度 |
| ---------- | :-------------------- | ----------- | -------- |
| 2023-03-09 | rk3528_bl31_v1.11.elf | 389e6e47    | 重要     |

### New

1. 调整休眠时ddr的配置流程。

------

## rk3528_ddr_1056MHz_{2L_PCB_}v1.03.bin

| 时间       | 文件                                  | 编译 commit | 重要程度 |
| ---------- | ------------------------------------- | ----------- | -------- |
| 2023-03-09 | rk3528_ddr_1056MHz_{2L_PCB_}v1.03.bin | f0be8490c4  | 重要     |

### New

1. 增加不同OTP配置芯片的支持。

### Fixed

| Index | 重要程度 | 更新说明                          | 问题现象                                   | 问题来源 |
| ----- | -------- | --------------------------------- | ------------------------------------------ | -------- |
| 1     | 重要     | 解决lp3 x16位宽的容量报错问题     | 当phy工作在lp3 x16位宽时，出现ddr 容量异常 | -        |
| 2     | 重要     | 解决低频（<=400Mhz）DDR不稳定问题 | 当DDR低频（<=400Mhz）时，系统出现随机panic | -        |

------

## rk3528_ddr_1056MHz_{2L_PCB_}v1.02.bin

| 时间       | 文件                                  | 编译 commit | 重要程度 |
| ---------- | ------------------------------------- | ----------- | -------- |
| 2023-02-15 | rk3528_ddr_1056MHz_{2L_PCB_}v1.02.bin | 60403d388d  | 重要     |

### New

1. 支持derate refresh、per-bank refresh配置。
2. 增加AXI split支持。
3. 开启LP4、LP4X 读写DBI。

### Fixed

| Index | 重要程度 | 更新说明                 | 问题现象                                 | 问题来源 |
| ----- | -------- | ------------------------ | ---------------------------------------- | -------- |
| 1     | 重要     | 解决2L PCB高频不稳定问题 | 2L PCB在跑DDR高频1056MHz系统随机死机问题 | -        |

------

## rk3528_bl31_v1.10.elf

| 时间       | 文件                  | 编译 commit | 重要程度 |
| ---------- | :-------------------- | ----------- | -------- |
| 2023-02-15 | rk3528_bl31_v1.10.elf | d74b03e10   | 重要     |

### New

1. 支持 scmi trng clk。

------

## rk3528_bl31_v1.09.elf

| 时间       | 文件                  | 编译 commit | 重要程度 |
| ---------- | :-------------------- | ----------- | -------- |
| 2023-02-03 | rk3528_bl31_v1.09.elf | 16574c7f3   | 重要     |

### New

1. 支持所有gpio唤醒。
2. 提高fiq-debugger功能稳定性。

------

## rk3528_bl31_v1.08.elf

| 时间       | 文件                  | 编译 commit | 重要程度 |
| ---------- | :-------------------- | ----------- | -------- |
| 2023-01-10 | rk3528_bl31_v1.08.elf | 082486b74   | 重要     |

### New

1. 添加crypto/crypto_s/klad 时钟支持。

------

## rk3528_bl31_v1.07.elf

| 时间       | 文件                  | 编译 commit | 重要程度 |
| ---------- | :-------------------- | ----------- | -------- |
| 2022-12-26 | rk3528_bl31_v1.07.elf | da191fda0   | 重要     |

### New

1. 支持VDD_LOGIC断电休眠。
2. hptimer使用软件校准模式。
3. 使能PLAT_RK_OPTEED_SYS_CTRL。

------

## rk3528_spl_v1.03.bin

| 时间       | 文件                 | 编译 commit | 重要程度 |
| ---------- | :------------------- | ----------- | -------- |
| 2022-12-14 | rk3528_spl_v1.03.bin | f09ed5ff4f  | 重要     |

### Fixed
| Index | 重要程度 | 更新说明               | 问题现象                    | 问题来源 |
| ----- | -------- | ---------------------- | --------------------------- | -------- |
| 1     | 重要     | 支持HS400ES            | 解决原来HS400模式兼容性问题 | -        |
| 2     | 重要     | 配置EMMC驱动强度到1.5X | 解决个别EMMC兼容性问题      | -        |

------

## rk3528_bl31_v1.06.elf

| 时间       | 文件                  | 编译 commit | 重要程度 |
| ---------- | :-------------------- | ----------- | -------- |
| 2022-12-08 | rk3528_bl31_v1.06.elf | 61102ec13   | 重要     |

### New

1. 支持USB相关唤醒。

------

## rk3528_spl_v1.02.bin

| 时间       | 文件                 | 编译 commit | 重要程度 |
| ---------- | :------------------- | ----------- | -------- |
| 2022-12-02 | rk3528_spl_v1.02.bin | eee09e1f72  | 重要     |

### Fixed

| Index | 重要程度 | 更新说明                         | 问题现象                                                     | 问题来源 |
| ----- | -------- | -------------------------------- | ------------------------------------------------------------ | -------- |
| 1     | 重要     | 解决矩阵时钟频率不符合预期的问题 | clk_200m：396000 KHz、clk_300m：594000 KHz、clk_339m：264000 KHz，对存储模块可能有影响。 | -        |

------

## rk3528_bl31_v1.05.elf

| 时间       | 文件                  | 编译 commit | 重要程度 |
| ---------- | :-------------------- | ----------- | -------- |
| 2022-12-01 | rk3528_bl31_v1.05.elf | b10341386   | 普通     |

### New

1. 支持TSP时钟。

------

## rk3528_bl31_v1.04.elf

| 时间       | 文件                  | 编译 commit | 重要程度 |
| ---------- | :-------------------- | ----------- | -------- |
| 2022-11-30 | rk3528_bl31_v1.04.elf | 63ba7e8e1   | 重要     |

### New

1. 支持hdmi相关唤醒。

------

## rk3528_{ddr,spl,usbplug}_v1.x.bin

| 时间       | 文件                              | 编译 commit                                 | 重要程度 |
| ---------- | :-------------------------------- | ------------------------------------------- | -------- |
| 2022-11-28 | rk3528_{ddr,spl,usbplug}_v1.x.bin | ddr:0799b9b10a#spl:c52427059#usbplug:4eade6 | 重要     |

### New

1. 初始版本。

------

## rk3528_{bl31,bl32,mcu}_v1.x.bin

| 时间       | 文件                            | 编译 commit                               | 重要程度 |
| ---------- | :------------------------------ | ----------------------------------------- | -------- |
| 2022-11-28 | rk3528_{bl31,bl32,mcu}_v1.x.bin | bl31:a1a47bee6#bl32:3c36a5cb#mcu:76d14059 | 重要     |

### New

1. 初始版本。

------

